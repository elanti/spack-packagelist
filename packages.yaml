allowed:
  systems:
    - x86_E5v2_IntelIB
    - x86_E5v2_Mellanox_GPU
    - x86_E5v3_IntelIB
  compilers:
    - gcc@4.4.7
    - gcc@5.3.0
    - intel@16.0.2
  mpi:
    - openmpi@1.10.2+pmi+psm+slurm+thread_multiple+sqlite3~hwloc
    - mvapich2@2.2b+psm+slurm
    - intelmpi@5.1.3
  lapack:
    - openblas@0.2.18
    - openblas@0.2.18+openmp

packages:
  core:
    systems: 'all'
    compilers:
      - gcc@4.4.7
    specs:
      - cmake@3.5.2
      - m4@1.4.17
      - autoconf@2.69
      - automake@1.15
      - libtool@2.4.6
      - lmod@6.4.1
  cuda:
    systems:
      - x86_E5v2_Mellanox_GPU
    compilers:
      - gcc@4.4.7
    specs:
      - cuda@7.5.18
  gnu:
    systems: 'all'
    compilers:
      - gcc@5.3.0
    specs:
      - valgrind@3.11.0~boost~mpi
      - gdb@7.11
      - fftw@3.3.4
      - fftw@3.3.4+openmp
      - glpk@4.57+gmp
      - gsl@2.1
      - hdf5@1.8.16+szip
      - metis@5.1.0+real64
      - scotch@6.0.3+esmumps~metis
      - openblas@0.2.18
      - openblas@0.2.18+openmp
      - openmpi@1.10.2+pmi+psm+slurm+thread_multiple+sqlite3~hwloc
      - mvapich2@2.2b+psm+slurm
      - python@3.5.1
      - python@2.7.11
      - netcdf@4.4.0~mpi^hdf5@1.8.16+szip
    parallel:
      mpi:
        - openmpi@1.10.2+pmi+psm+slurm+thread_multiple+sqlite3~hwloc
        - mvapich2@2.2b+psm+slurm
      specs:
        - boost@1.61.0+icu_support+mpi+python
        - fftw@3.3.4+mpi
        - fftw@3.3.4+mpi+openmp
        - hdf5@1.8.16+mpi~cxx+szip
        - scotch@6.0.3+esmumps+mpi~metis
        - scorep@1.4.2
        - parmetis@4.0.3^metis@5.1.0+real64
        - netcdf@4.4.0+mpi^hdf5@1.8.16+mpi~cxx+szip
      dense_linear_algebra:
        lapack:
          - openblas@0.2.18
          - openblas@0.2.18+openmp
        specs:
          - arpack-ng@3.3.0+mpi
          - netlib-scalapack@2.0.2
          - mumps@5.1.0+mpi+parmetis+metis+scotch+ptscotch^parmetis@4.0.3^metis@5.1.0+real64^scotch@6.0.3+esmumps+mpi~metis
    dense_linear_algebra:
      lapack:
        - openblas@0.2.18
        - openblas@0.2.18+openmp
      specs:
        - arpack-ng@3.3.0~mpi





